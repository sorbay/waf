
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../sorbay_risk_configuration/" rel="prev"/>
<link href="../sorbay_risk_api/" rel="next"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.5.3, mkdocs-material-9.5.9" name="generator"/>
<title>Integration - USP Core WAAP documentation</title>
<link href="../assets/stylesheets/main.f2e4d321.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../assets/stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#integration-of-a-sorbay_risk-service">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="USP Core WAAP documentation" class="md-header__button md-logo" data-md-component="logo" href=".." title="USP Core WAAP documentation">
<img alt="logo" src="../assets/images/sorbay-blue-white.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            USP Core WAAP documentation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Integration
            
          </span>
</div>
</div>
</div>
<script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="USP Core WAAP documentation" class="md-nav__button md-logo" data-md-component="logo" href=".." title="USP Core WAAP documentation">
<img alt="logo" src="../assets/images/sorbay-blue-white.png"/>
</a>
    USP Core WAAP documentation
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    Welcome
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../profile/">
<span class="md-ellipsis">
    Profile
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../workspaces/">
<span class="md-ellipsis">
    Workspaces
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Services
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Services
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../services/">
<span class="md-ellipsis">
    About
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
<span class="md-ellipsis">
    sorbay_ciam
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            sorbay_ciam
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../sorbay_ciam/">
<span class="md-ellipsis">
    Configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sorbay_ciam_integration/">
<span class="md-ellipsis">
    Integration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sorbay_ciam_api/">
<span class="md-ellipsis">
    API
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
<span class="md-ellipsis">
    sorbay_risk
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
            sorbay_risk
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../sorbay_risk/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sorbay_risk_configuration/">
<span class="md-ellipsis">
    Configuration
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Integration
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Integration
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-the-sorbay_risk-service">
<span class="md-ellipsis">
      Configure the sorbay_risk service
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-your-login-service">
<span class="md-ellipsis">
      Configure your login service
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#authentication-flow">
<span class="md-ellipsis">
      Authentication Flow
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sorbay_risk_api/">
<span class="md-ellipsis">
    API
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../members/">
<span class="md-ellipsis">
    Members
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../settings/">
<span class="md-ellipsis">
    Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../help/">
<span class="md-ellipsis">
    Help
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-the-sorbay_risk-service">
<span class="md-ellipsis">
      Configure the sorbay_risk service
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-your-login-service">
<span class="md-ellipsis">
      Configure your login service
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#authentication-flow">
<span class="md-ellipsis">
      Authentication Flow
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="integration-of-a-sorbay_risk-service">Integration of a sorbay_risk service</h1>
<p>This guide will show you how to integrate your login service with the sorbay_risk service.</p>
<p>Make sure you first created a sorbay_risk service.</p>
<h2 id="configure-the-sorbay_risk-service">Configure the sorbay_risk service</h2>
<p>Navigate to the "Settings" of your service, then go to the "Configuration" tab.</p>
<p>Configure at least one API key.
It will be needed in your login service for REST calls to the sorbay_risk service.</p>
<h2 id="configure-your-login-service">Configure your login service</h2>
<p>For simplicity, let's assume that your login service provides users who want to log in
with a simple login form with userid and password fields, plus has a hidden "token" field:</p>
<ul>
<li><strong>userid</strong>: Text field</li>
<li><strong>password</strong>: Password field</li>
<li><strong>token</strong>: Hidden field</li>
</ul>
<p>That might of course be different in practice, but what is crucial is that there should be a means to at least weakly authenticate a user (more precisely the userid) before using the sorbay_risk service.</p>
<p>To get the base URL of your sorbay_risk service, you will find in the "General" settings tab a button to copy the URL of the REST-API.</p>
<p><img src="../img/sorbay_risk_copy_url_en.png" style="margin-left: 80px; width: 75%; border: 1px; border-style: solid; border-color: lightgray"/></p>
<p>The base URL of the sorbay_risk service depends on the service ID and has the notation <code>https://&lt;SERVICE_ID&gt;.cloud.sorbay.com</code>.
In this guide we assume the base URL is <code>https://riskid.cloud.sorbay.com/</code> below.</p>
<h2 id="authentication-flow">Authentication Flow</h2>
<p>Here is the typical flow of requests and responses in case of a successful login:</p>
<pre class="mermaid"><code>sequenceDiagram

autonumber

actor client as client/browser
participant login as your login service
participant risk as sorbay_risk service

client -&gt;&gt; login: GET login page
login --&gt;&gt; client: login page&lt;br&gt;(with initial js)
client -&gt;&gt; risk: GET js for client
risk --&gt;&gt; client: js for client
client -&gt;&gt; risk: js opens WebSocket at /token
risk --&gt;&gt; client: token via websocket (opaque)
client -&gt;&gt; login: Login POST&lt;br&gt;(login userid + password + token)
login -&gt;&gt; risk: REST call /rest/risk&lt;br&gt;(opaque userid + token)
risk --&gt;&gt; login: risk score
login --&gt;&gt; client : login ok or require&lt;br&gt;further authentication
login --&gt; client : (opt. further authentication)
login -&gt;&gt; risk: REST call /rest/loginok&lt;br&gt;(opaque userid + token)
risk --&gt;&gt; login: ok</code></pre>
<p><strong>1. GET login page</strong></p>
<p>A user goes to the login location in their browser/client
(directly or redirected when trying to access a protected application).</p>
<p><strong>2. Login page (with initial js)</strong></p>
<p>Your login service sends back a login page with form fields for <strong>userid</strong> and <strong>password</strong>,
plus a hidden field named <strong>token</strong>, and the following JavaScript:</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">sorbaySetTokenInForm</span><span class="p">(</span><span class="nx">token</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'setting token in form to: '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">token</span><span class="p">);</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'token'</span><span class="p">).</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">token</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">sorbayGetSetToken</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">baseUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'https://riskid.cloud.sorbay.com'</span><span class="p">;</span>
<span class="w">    </span><span class="k">import</span><span class="p">(</span><span class="nx">baseUrl</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'/resources/sorbay-risk.min.js'</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">'client-error: import '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">baseUrl</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'/resources/sorbay-risk.min.js failed: '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">e</span><span class="p">);</span><span class="w"> </span><span class="p">})</span>
<span class="w">      </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">js</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">js</span><span class="p">.</span><span class="nx">sorbayGetToken</span><span class="p">(</span><span class="nx">baseUrl</span><span class="p">,</span><span class="w"> </span><span class="nx">sorbaySetTokenInForm</span><span class="p">))</span>
<span class="w">      </span><span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">'client-error: '</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">'client-error: sorbayGetToken() failed: '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">e</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">sorbayGetSetToken</span><span class="p">();</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>
<p><strong>3. GET js for client</strong></p>
<p>The above JavaScript is run immediately (while the user is free to enter username and password in parallel). It fetches further JavaScript from the sorbay_risk service in order to collect/measure client attributes.</p>
<p><strong>4. js for client</strong></p>
<p>The received JavaScript also runs immediately.</p>
<p><strong>5. js opens WebSocket at /token</strong></p>
<p>The JavaScript opens a WebSocket to <code>wss://riskid.cloud.sorbay.com/token</code>.</p>
<p>Note: The API key is not used here. Usage of the API key is restricted to the REST calls of your login service described further below. The API key should never be given/passed to the client.</p>
<p><strong>6. token (opaque)</strong></p>
<p>Within the websocket channel additional client attributes are determined. As last action before closing the websocket
connection, the sorbay_risk service returns the opaque <strong>token</strong>. The token is required to calculate the final
risk score in the next steps. The token is only valid for a certain period of time and can be used only once
to prevent e.g. replay attacks.</p>
<p>In the JavaScript above, the token is written to the hidden <strong>token</strong> field.</p>
<p><strong>7. Login POST (login userid + password + token)</strong></p>
<p>The user enters login userid and password and submits them, posting them to your login service along with the token.</p>
<p>Ideally, the submit button would only become active once the token had been obtained.</p>
<p><strong>8. REST call /rest/risk (opaque userid + token)</strong></p>
<p>The login service validates userid/password and, if correct, makes a REST call to the <code>https://riskid.cloud.sorbay.com/rest/risk</code>
location on the sorbay_risk service, passing an <strong>opaque userid</strong> and the <strong>token</strong>, plus the <strong>API key</strong> as <code>X-API-Key</code> HTTP request header.</p>
<div class="admonition info">
<p class="admonition-title">opaque userid</p>
<p>The opaque userid should be unique and unchanging per user,
but it should not be possible to derive it from login userid and/or API-Key.
Formally, the opaque userid is limited to max 128 characters,
where upper and lower case letters and numbers are allowed, as well as '+/=-_',
i.e. covers hex-, base64- and base64url-encodings.
Technical approaches for the opaque userid would include
a randomly generated userid  that is stored along other user data
somewhere where only the login service has access,
or an HMAC based on a secret key that only the login service knows.</p>
</div>
<p><strong>9. risk score</strong></p>
<p>The sorbay_risk service validated the token before calculating the risk score and returns it.</p>
<p>Your login service receives the risk score and is free what to do based on its value.</p>
<p>For example, if the risk score is lower than 0.4, a second factor authentication (TOTP, etc.) could be skipped.
Or if the risk score is above a certain value, an email could be sent to the user to inform of the login attempt "from a new location/client".</p>
<p>It's not recommended to block a login attempt entirely based on the risk score. Depending on the feature changes it could 
prevent legitimate user from accessing your service.</p>
<p><strong>10. login ok or require further authentication</strong></p>
<p>Your login service grants access to the user if the risk score was deemed low enough, otherwise it initiates further authentication steps.</p>
<p><strong>11. Optional further authentication steps</strong></p>
<p>Optionally further authentication steps between client and your login service.</p>
<p><strong>12. REST call /rest/loginok (opaque userid + token)</strong></p>
<p>Whenever your login service decides that login with that user was successful, your login service must make a REST call
to <code>https://riskid.cloud.sorbay.com/rest/loginok</code> to signal that to the sorbay_risk service.
Only then does the sorbay_risk service store the gathered attributes from the latest login attempt in its datastore
for future risk score evaluations.</p>
<p><strong>13. ok</strong></p>
<p>The sorbay_risk service confirms that it successfully recorded the login attributes.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>