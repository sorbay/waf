{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Get started","text":"<p>Before getting started using sorbay and running your own service,  a workspace must be created. When you first log in to the  sorbay platform, you will be asked to provide the name for  the first workspace to be created. You can then use the name to  create the service.</p>"},{"location":"#navigation","title":"Navigation","text":"<p>On the left side you find the main navigation menu. It provides the following options:</p> <ul> <li>Workspace selector - shows the currently selected workspace.</li> <li>Start - changes back to the start page that is also presented   to the user after logging in.</li> <li>Services - opens the services page which allows to create,   change and delete services.</li> <li>Members - opens the members page where you can add or remove   members for the currently selected workspace.</li> <li>Settings - opens the workspace settings page.</li> </ul>"},{"location":"#basic-workflow","title":"Basic Workflow","text":"<ul> <li>Select the workspace you want to create services in, with the   workspace selection in the top-most navigation entry.</li> <li>Create and / or change services in the currently selected   workspace by clicking the \"Services\" option in the navigation.</li> <li>Add more users to this workspace by selecting the \"Members\"    menu option in the navigation.</li> <li>Change the settings of the currently selected workspace by    selecting the \"Settings\" option in the navigation.</li> </ul>"},{"location":"help/","title":"Support","text":"<p>In case you run into any unexpected problem and require technical assistance, please contact the sorbay  support at the following email address:</p> <p>support@sorbay.com</p>"},{"location":"members/","title":"Members","text":"<p>This page allows you to create, change and remove workspace members.</p> <p>You can search for one or multiple users by using the \"Filter\" input field, where you can enter a full or partial name.</p> <p>The page shows you a list of all members of the currently selected workspace, based on the currently set filter. If no filter is set, all users are listed.</p>"},{"location":"members/#adding-new-members","title":"Adding new members","text":"<p>To add one or multiple new members, click the \"Add Member\" button in the lower right corner. It will open this dialog:</p> <p></p> <p>In the \"Email or username\" input field, you can enter one or multiple email addresses or usernames.</p> <p>NOTE: You can enter usernames or email addresses of valid, existing users - or even of inexistent users. This allows you to pre-invite users that will maybe only later be able to perform the registration procedure.</p> <p>With the drop-down list below, select the role for the new member(s):</p> <ul> <li>Workspace admin: The user can administrate workspaces, i.e. change workspace   settings, create new workspaces, and delete them.</li> <li>Service admin: The user can create, change and remove services.</li> </ul> <p>Click the \"Send invitation\" button to trigger an email with an invitation link being sent to the given users.</p>"},{"location":"profile/","title":"Profile","text":"<p>On the profile page, you can change all the settings related to your personal user profile.</p> <p>To open the profile page, click the \"Profile\" option on the selector in the upper right corner:</p> <p></p>"},{"location":"profile/#email-verification","title":"Email verification","text":"<p>In case your email address has not been verified yet, you will be shown a notification message at the top of the screen which indicates that you can re-send the email with the verification link. Click this link to receive another email and then click the link in that mail to verify your mail address.</p>"},{"location":"profile/#profile-settings","title":"Profile settings","text":"<p>In the \"Profile\" section, you can set or change the following attributes:</p> <ul> <li>First name</li> <li>Last name</li> <li>Username</li> <li>Email address</li> <li>Preferred language</li> </ul> <p>Press the \"Save\" button in the lower right corner to apply and save the changes.</p>"},{"location":"profile/#password","title":"Password","text":"<p>To change your password, click the \"Change Password\" button in the \"Password\" section:</p> <p></p> <p>This will open a popup dialog, where you can enter the new password string:</p> <p></p> <p>Apply and save the new password by clicking the \"Submit\" button.</p>"},{"location":"profile/#security","title":"Security","text":"<p>For increased account security, it is recommended to enable two-factor authentication, using the widely available \"Google Authenticator\" app (iOS, Android). To enable it for your account, click on the \"Two-Factor Authentication\" button, which opens this dialog with a QR code:</p> <p></p> <p>Open your Authenticator app on your iOS or Android device, and scan the QR code. This will create a new entry in your Authenticator app under the label \"sorbay\".  Then continue to the next dialog, where you will have to enter the code currently displayed in  the Authenticator app, to confirm that the QR code was correctly processed:</p> <p></p> <p>Finally, another dialog will provide a download for backup recovery codes, that you can use to  recover your account in case your iOS or Android device gets lost, stolen or damaged, and you cannot use the Authenticator app anymore.</p> <p></p> <p>Download the recovery codes by clicking the \"Backup recovery codes\" button, and then \"Confirm download\".</p> <p>Congratulations, you have now enabled two-factor authentication. The \"Security\" section in the  profile page now looks like this:</p> <p></p> <ul> <li>Click \"Disable two factor authentication\" to switch back to logging in with password-only</li> <li>Click \"Download recovery codes\" to re-download your recovery codes</li> <li>Click \"Reset recovery codes\" to create a new set of recovery codes</li> </ul>"},{"location":"profile/#account-deletion","title":"Account deletion","text":"<p>You can remove your account completely in the last section at the  bottom of the screen, under \"Account deletion\".</p> <p>NOTE: This action will irretrievably remove your user account and all corresponding data, and cannot be undone!</p>"},{"location":"services/","title":"About","text":"<p>This page allows you to create, change and remove services.</p>"},{"location":"services/#create-a-new-service","title":"Create a new service","text":"<p>To create a new service, click the \"Create\" button in the lower right corner:</p> <p></p> <p>A dialog will pop up with an input field, where you are asked to enter the name of the service:</p> <p></p> <p>Once you have created one or more services, you will see this list of services available in the current workspace:</p> <p></p>"},{"location":"services/#using-a-service","title":"Using a service","text":"<p>In order to configure a newly created service, click the \"Service settings\" button in the \"...\"-popup dialog:</p> <p></p> <p>This will open the settings page for that service instance, with the \"General\" tab selected:</p> <p></p>"},{"location":"settings/","title":"Settings","text":"<p>This page allows to </p> <ul> <li>change workspace settings</li> <li>add or remove workspace members </li> <li>delete the currently selected workspace</li> </ul>"},{"location":"settings/#change-workspace-name","title":"Change workspace name","text":"<p>Change the name of the currently selected workspace by entering any name here:</p> <p></p>"},{"location":"settings/#leave-workspace","title":"Leave workspace","text":"<p>You can leave the workspace, so as to no longer be a member and/or administrator of it:</p> <p></p> <p>However, in case your account is currently the only administrator for the workspace, you need to first add another member with the role \"Workspace admin\".</p>"},{"location":"settings/#delete-workspace","title":"Delete workspace","text":"<p>Finally you can delete the currently selected workspace:</p> <p></p> <p>Click the \"Delete workspace\" button and confirm the deletion by clicking \"Yes\" in the confirmation pop-up dialog to delete the workspace and irrevocably remove all its  associated services and resources.</p>"},{"location":"sorbay_ciam/","title":"sorbay_ciam","text":""},{"location":"sorbay_ciam/#functionality","title":"Functionality","text":"<p>The sorbay_ciam provides user management with authentication and  self-service capabilities for end users. The overall strategy is a  \"Bring your own UI\" so you may use the provided API from  sorbay_ciam to integrate the capabilities in your app.</p>"},{"location":"sorbay_ciam/#authentication","title":"Authentication","text":"<p>It provides the means to authenticate users, including two-factor authentication with the Google Authenticator app (iOS and Android).</p>"},{"location":"sorbay_ciam/#self-service","title":"Self-Service","text":"<p>The sorbay_ciam service includes self-service functionality, that allows your users to manage their account and profile themselves, such as changing the password, changing user attributes or enabling two-factor authentication.</p>"},{"location":"sorbay_ciam/#configuration","title":"Configuration","text":"<p>To configure an instance of the sorbay_ciam service, click the \"Service settings\" option in the popup menu of an entry in the services list:</p> <p></p> <p>You will then be presented with the settings of that instance of the sorbay_ciam service. Its functionality is grouped in 4 tabs:</p> <ul> <li>General - general settings for this sorbay_ciam service instance</li> <li>Users - user-related configuration settings</li> <li>Pages - custom UI URL configuration</li> <li>Accounts - management of service user accounts</li> </ul>"},{"location":"sorbay_ciam/#general","title":"General","text":""},{"location":"sorbay_ciam/#open-service-ui","title":"Open service UI","text":"<p>At the top, you find the button \"Open interfaces\" which will open a new browser window with the URL of this instance of the sorbay_ciam service. What  is displayed here exactly, varies if you configure custom UI URLs in the \"Pages\" section.</p>"},{"location":"sorbay_ciam/#service-name","title":"Service name","text":"<p>In the \"Base\" section, you can change the name of the service. Save your change by clicking the \"Save\" button in the lower right corner.</p>"},{"location":"sorbay_ciam/#delete-service","title":"Delete service","text":"<p>Under \"Service deletion\", you can delete this service instance entirely.  NOTE: This change cannot be undone! It will irrevocably delete the service and all related data and resources.</p> <p>Delete the service by clicking the \"Delete service\" button, and then confirm the deletion in the following pop-up dialog.</p>"},{"location":"sorbay_ciam/#users","title":"Users","text":"<p>Under the \"Users\" tab, you find various sections where you can configure  several aspects related to the authentication and data storage of service users.</p>"},{"location":"sorbay_ciam/#authentication_1","title":"Authentication","text":"<p>Set the required minimum length for the password by adjusting the slider to the desired value.</p> <p>Enable the checkbox to enforce a check, that prevents from passwords  that are equal to the username.</p>"},{"location":"sorbay_ciam/#two-factor","title":"Two Factor","text":"<p>By enabling the \"Enforce two factor authentication\" checkbox in this section, users will be forced to enable two-factor authentication.</p>"},{"location":"sorbay_ciam/#schema","title":"Schema","text":"<p>Here you will be able to adapt the data schema for storing user accounts.</p> <p>This functionality is not yet available during the beta testing phase!</p>"},{"location":"sorbay_ciam/#pages","title":"Pages","text":"<p>Following the \"Bring your own UI\" philosophy, the sorbay_ciam service allows you to configure custom frontend URLs here. This could be custom-written JavaScript frontends, that integrate with the service API. Follow the instructions how to configure and launch our demo UI application.</p> <ul> <li>\"Login URL\" - Login application URL</li> <li>\"Registration URL\" - Registration application URL</li> <li>\"Verification URL\" - Verification application URL</li> <li>\"Recovery URL\" - Recovery application URL</li> <li>\"Settings URL\" - Settings application URL</li> <li>\"Error URL\" - Error application URL</li> </ul>"},{"location":"sorbay_ciam/#redirects","title":"Redirects","text":"<ul> <li>\"Default URL\" - </li> <li>\"Login URL\" - Login redirect URL</li> <li>\"Registration URL\" - Registration redirect URL</li> <li>\"Settings URL\" - Settings redirect URL</li> <li>\"Verification URL\" - Verification redirect URL</li> <li>\"Logout URL\" - Logout redirect URL</li> </ul>"},{"location":"sorbay_ciam/#cors","title":"CORS","text":"<p>Add any custom allowed origin URLs in this section by clicking the \"+ Allowed Origin URL\" button. Click the \"Save\" button in the lower right corner to save the new URL.</p>"},{"location":"sorbay_ciam/#custom","title":"Custom","text":"<p>Finally, you may set a custom domain name, and define a custom  domain for the session cookie, depending on your application's requirements.</p> <p>You will have to create a CNAME record with the DNS provider with which the domain is registered, with the value that's provided in this view.</p> <p>It is important that you add CORS origins to your custom domain to ensure Single Page Applications (SPAs) support.</p>"},{"location":"sorbay_ciam/#accounts","title":"Accounts","text":"<p>Under this tab, you can manage user accounts for users of the service.</p>"},{"location":"sorbay_ciam/#create-user","title":"Create user","text":"<p>To create a new service user, click the \"+ Create user\" button:</p> <p></p> <p>This will open the following pop-up dialog where you can enter the  details of the new user account:</p> <p></p> <p>Chose the status for the new user account (\"active\" or \"inactive\") and then  create the new account by clicking the \"Create user\" button.</p>"},{"location":"sorbay_ciam/#user-list","title":"User list","text":"<p>Once you have created one or more service users, they will be listed  under the \"Accounts\" tab:</p> <p></p>"},{"location":"sorbay_ciam/#edit-user","title":"Edit user","text":"<p>To edit a user account, click the  symbol, or the \"Open user\" option in the pop-up menu:</p> <p></p>"},{"location":"sorbay_ciam/#delete-user","title":"Delete user","text":"<p>To delete a user account, click the \"Delete user\" option in the pop-up menu:</p> <p></p>"},{"location":"sorbay_ciam_api/","title":"API","text":""},{"location":"sorbay_ciam_integration/","title":"Integration of a sorbay_ciam service","text":"<p>This guide will show you how to integrate your service into sorbay_ciam using our demo ui application.</p> <p>Let's assume that your domain name is \"example.com\" and you have already created a service with the name \"my-ciam-service\".</p>"},{"location":"sorbay_ciam_integration/#configure-the-sorbay_ciam-service","title":"Configure the sorbay_ciam service","text":"<p>Navigate to the \"Settings\" of your service, then go to the \"Pages\" tab.</p> <p>Configure the \"Page Locations\" section as follows:</p> <p></p> <p>Now scroll down, until you reach the \"CORS\" and \"Custom\" sections. Enter the values according to the following illustration.</p> <p></p> <p>You will have to create a CNAME record with the DNS provider with which the domain is registered, with the value that's provided in this view.</p> <p>Self-Service flows such as Login, Registration, Updating Settings support two successful response modes:</p> <ul> <li>For browsers of a server-side application, identified by the <code>Accept: text/html header</code>, the response will be a redirection.</li> <li>For API clients, such as a client-side AJAX application, identified by the <code>Accept: application/json header</code>, the response will be in JSON.</li> </ul> <p>The browser redirects work just for regular browser requests. If you are using an API Client, as  mentioned above, the application must redirect the user to the right endpoint in the application. Since our pre-built demo ui container is a client-side application, it is required to provide the locations by means of environmental variables. </p>"},{"location":"sorbay_ciam_integration/#run-the-docker-demo-ui","title":"Run the Docker Demo UI","text":"<p>You can test the sorbay_ciam service with our pre-built demo ui container.</p> <p>In order to run the container, it must be configured as follows.</p> <p>Mandatory configuration: * Define the name for the container <code>&lt;container-name&gt;</code> * Define the environment variable for the host name for the web server <code>&lt;your-service&gt;.&lt;your-domain&gt;</code> * Define the environment variable for the API URI <code>&lt;your-domain&gt;</code> * Map the container port to the host <code>&lt;host-port&gt;</code> * Mount the server certificate for SSL into the container <code>&lt;absolute-path-to-certificate&gt;</code> * Mount the server private key for SSL into the container <code>&lt;absolute-path-to-private-key&gt;</code> * Specify the image version <code>&lt;version&gt;</code></p> <p>Optional configuration, to be provided as environment variables (e.g. -e LOGIN_URI=\".\"): * Define the environment variable DEFAULT_URI for the default redirection, which is taken into account, unless overridden by one of the following options. * Define the environment variable LOGIN_URI for post-login redirection. * Define the environment variable REGISTRATION_URI for post-registration redirection. * Define the environment variable SETTINGS_URI for post-settings redirection. * Define the environment variable VERIFICATION_URI for post-verification redirection. * Define the environment variable LOGOUT_URI for post-logout redirection. <p>To run the container use the following command:</p> <pre><code>docker run --rm --name &lt;container-name&gt; -e HOST_NAME=\"&lt;your-service&gt;.&lt;your-domain&gt;\" -e API_URI=\"&lt;your-domain&gt;\" -p &lt;host-port&gt;:8443 -v &lt;absolute-path-to-certificate&gt;:/etc/nginx/certs/ssl.crt -v &lt;absolute-path-to-private-key&gt;:/etc/nginx/certs/ssl.key quay.io/usp/sorbay-ciam-self-service:&lt;version&gt;\n</code></pre> <p>This is a concrete example according to the settings above. Ensure you provide the server certificate and private key for the demo application.</p> <pre><code>docker run --rm --name sorbay_ciam_demo -e HOST_NAME=\"customer-app.my-ciam-service.example.org\" -v /location/to/my-ciam-service.key:/etc/nginx/certs/ssl.key -v /location/to/my-ciam-service.crt:/etc/nginx/certs/ssl.crt -e API_URI=\"https://my-ciam-service.example.org\" -p 4200:8443 quay.io/usp/sorbay-ciam-self-service:1.0.0\n</code></pre>"},{"location":"sorbay_risk/","title":"sorbay_risk","text":"<p>for secure authentication with highest user comfort</p>"},{"location":"sorbay_risk/#functionality","title":"Functionality","text":"<p>sorbay_risk combines the highest level of security with the highest level of user comfort and enables companies to reduce the friction of repeated multiple authentications for customers, employees and partners to a necessary minimum (Zero Friction).</p>"},{"location":"sorbay_risk/#why-sorbay_risk","title":"Why sorbay_risk?","text":"<p>sorbay_risk is an innovative cloud-based risk scoring service that calculates the risk of whether a user is who he claims to be. The sorbay_risk service provides the calculation of a risk score as a basis for e.g. selectively omitting a second factor during user authentication. By implementing sorbay_risk, organizations can not only minimize the risk of unauthorized access, but also comply with regulatory requirements. This leads to an improved user experience and engagement by ensuring a secure and optimized digital interaction.</p> <p></p> <p>With sorbay_risk, a login service can dynamically select the optimal authentication mechanism. The login service used, such as the USP Secure Entry Server, can take various measures based on this evaluation. If the risk is low, e.g. if the device and location are known, access can be granted without additional effort and without querying a second factor. sorbay_risk thus forms the solid basis for risk-based authentication (RBA).</p>"},{"location":"sorbay_risk/#how-does-it-work","title":"How does it work?","text":"<p>sorbay_risk uses various contextual data from past user logins as well as the current login attempt. One example of contextual data is the IP address, which we enrich with attributes from .</p> <p>Using risk-based authenticators and self-learning risk engines, sorbay_risk calculates a trust score. By evaluating the risk score, sorbay_risk assesses the security of the correct user identity.</p> <p>The calculated risk score puts out a number between 0 for virtually no risk and infinity for maximum risk. The organization decides how to handle the output value, by creating rules in the used login service. One possible scenario could be:</p> <ul> <li>If the risk score is low (typically below 0.4), it is most likely that the user who has successfully logged in with the second factor in the past is now logging in again, and the second factor could be omitted for greater user convenience and even greater security (thanks to the additional factors already evaluated in the background). </li> <li>For a high risk score your login service could notify the user of a \"login from a new client\" by email or SMS in addition of asking for the second factor.</li> </ul>"},{"location":"sorbay_risk/#use-cases","title":"Use Cases","text":""},{"location":"sorbay_risk/#use-case-1-improve-the-user-experience-with-existing-2fa","title":"Use Case 1: Improve the user experience with existing 2FA","text":"<p>Some organizations are still reluctant to use 2FA because it dramatically  degrades the user experience. Suddenly, users must enter a second factor  every time they log in. This creates friction.</p> <p>However, constant second-factor authentication is tedious, time-consuming and negatively impacts the customer experience as well as employee productivity. Each time a user logs in, they must enter their username, password and second factor - often on a second device. This often involves waiting for the second factor to arrive. Depending on the application - VPN applications, for  example - re-authentication is required every time the connection is lost. Employees spend an average of 25 hours per year entering passwords and other factors.</p> <p>With sorbay_risk, the user experience is greatly improved and streamlined while maintaining the same level of security - so-called zero friction. sorbay_risk enables companies to drastically reduce this friction to a necessary minimum for their customers, employees and partners. Adaptive authentication, also known as risk-based authentication (RBA) or context-based authentication, assesses the risk associated  with each authentication request.</p>"},{"location":"sorbay_risk/#use-case-2-on-top-security-for-2fa","title":"Use Case 2: On top security for 2FA","text":"<p>If the organization uses or wants to use 2FA, and also wants both factors to be checked for each access, the Risk Service can help to increase security by informing the user about suspicious activities via the login service (e.g. MFA Prompt Bombing).</p>"},{"location":"sorbay_risk/#use-case-3-improve-security-with-1-factor-in-use","title":"Use Case 3: Improve security with 1 factor in use","text":"<p>The customer currently uses only one factor (username-password) for logins. This is not considered secure. However, if the organizations do not want to enforce second factor, the Risk Score can help to detect credential stuffing or password spraying attacks. In addition, sorbay_risk notifies the login service if anomalies has been detected (unusual location, unusual device, etc.).</p>"},{"location":"sorbay_risk/#the-benefits-of-sorbay_risk","title":"The benefits of sorbay_risk:","text":"<p>Enhanced user experience: users find adaptive authentication far easier to use than two-factor authentication and just as secure. Create a secure and smooth digital experience for your users.</p> <p>Zero Trust Security: sorbay_risk adapts to the ever-changing threat landscape and provides robust protection.</p> <p>Regulatory compliance: Meet regulatory requirements and minimize the risk of unauthorized access.</p> <p>Flexible customization: Set individual risk levels for applications and data to minimize friction.</p> <p>Fraud prevention: Tailor your login service authentication preventing fraud, account takeover, and MFA prompt bombing.</p> <p>Competitive advantage: The ability to balance security and convenience is a clear competitive advantage. With sorbay_risk, you achieve just that. With our Risk Score service, you'll be one step ahead and effectively protect your business. </p>"},{"location":"sorbay_risk_api/","title":"API","text":""},{"location":"sorbay_risk_configuration/","title":"sorbay_risk","text":""},{"location":"sorbay_risk_configuration/#configuration","title":"Configuration","text":"<p>To configure an instance of the sorbay_risk service, click the \"Service settings\" option in the popup menu of an entry in the services list:</p> <p></p> <p>You will then be presented with the settings of that instance of the sorbay_risk service. Its functionality is grouped into the following tabs:</p> <ul> <li>General - general settings for this service instance</li> <li>Configuration - configuration of this service instance</li> </ul>"},{"location":"sorbay_risk_configuration/#general","title":"General","text":""},{"location":"sorbay_risk_configuration/#service-name","title":"Service name","text":"<p>In the section \"Base Settings\" you can change the name of the service. Save your change by clicking the \"Save\" button in the lower right corner.</p>"},{"location":"sorbay_risk_configuration/#delete-service","title":"Delete service","text":"<p>Under \"Service deletion\", you can delete this service instance entirely. NOTE: This change cannot be undone! It will irrevocably delete the service and all related data and resources.</p> <p>Delete the service by clicking the \"Delete service\" button, and then confirm the deletion in the following pop-up dialog.</p>"},{"location":"sorbay_risk_configuration/#configuration_1","title":"Configuration","text":""},{"location":"sorbay_risk_configuration/#api-keys","title":"API Keys","text":"<p>To access the REST API of the service an API key is required. You must define or generate at least one for proper functionality.</p> <p>It's possible to define more than one API key so that you can rotate them regularly.</p>"},{"location":"sorbay_risk_configuration/#cors","title":"CORS","text":"<p>Only JavaScript served by the login service should be allowed to call the risk service, which is achieved via standard Cross-Origin Resource Sharing (CORS) headers that are automatically sent by web browsers.</p> <p>Define the allowed origin URL(s) of the login service, i.e. the URL(s) at the login service that are allowed to serve JavaScript that then calls the risk service.</p>"},{"location":"sorbay_risk_integration/","title":"Integration of a sorbay_risk service","text":"<p>This guide will show you how to integrate your login service with the sorbay_risk service.</p> <p>Make sure you first created a sorbay_risk service.</p>"},{"location":"sorbay_risk_integration/#configure-the-sorbay_risk-service","title":"Configure the sorbay_risk service","text":"<p>Navigate to the \"Settings\" of your service, then go to the \"Configuration\" tab.</p> <p>Configure at least one API key. It will be needed in your login service for REST calls to the sorbay_risk service.</p>"},{"location":"sorbay_risk_integration/#configure-your-login-service","title":"Configure your login service","text":"<p>For simplicity, let's assume that your login service provides users who want to log in with a simple login form with userid and password fields, plus has a hidden \"token\" field:</p> <ul> <li>userid: Text field</li> <li>password: Password field</li> <li>token: Hidden field</li> </ul> <p>That might of course be different in practice, but what is crucial is that there should be a means to at least weakly authenticate a user (more precisely the userid) before using the sorbay_risk service.</p> <p>To get the base URL of your sorbay_risk service, you will find in the \"General\" settings tab a button to copy the URL of the REST-API.</p> <p></p> <p>The base URL of the sorbay_risk service depends on the service ID and has the notation <code>https://&lt;SERVICE_ID&gt;.cloud.sorbay.com</code>. In this guide we assume the base URL is <code>https://riskid.cloud.sorbay.com/</code> below.</p>"},{"location":"sorbay_risk_integration/#authentication-flow","title":"Authentication Flow","text":"<p>Here is the typical flow of requests and responses in case of a successful login:</p> <pre><code>sequenceDiagram\n\nautonumber\n\nactor client as client/browser\nparticipant login as your login service\nparticipant risk as sorbay_risk service\n\nclient -&gt;&gt; login: GET login page\nlogin --&gt;&gt; client: login page&lt;br&gt;(with initial js)\nclient -&gt;&gt; risk: GET js for client\nrisk --&gt;&gt; client: js for client\nclient -&gt;&gt; risk: js opens WebSocket at /token\nrisk --&gt;&gt; client: token via websocket (opaque)\nclient -&gt;&gt; login: Login POST&lt;br&gt;(login userid + password + token)\nlogin -&gt;&gt; risk: REST call /rest/risk&lt;br&gt;(opaque userid + token)\nrisk --&gt;&gt; login: risk score\nlogin --&gt;&gt; client : login ok or require&lt;br&gt;further authentication\nlogin --&gt; client : (opt. further authentication)\nlogin -&gt;&gt; risk: REST call /rest/loginok&lt;br&gt;(opaque userid + token)\nrisk --&gt;&gt; login: ok</code></pre> <p>1. GET login page</p> <p>A user goes to the login location in their browser/client (directly or redirected when trying to access a protected application).</p> <p>2. Login page (with initial js)</p> <p>Your login service sends back a login page with form fields for userid and password, plus a hidden field named token, and the following JavaScript:</p> <pre><code>&lt;script&gt;\n  function sorbaySetTokenInForm(token) {\n    console.log('setting token in form to: ' + token);\n    document.getElementById('token').value = token;\n  }\n  function sorbayGetSetToken() {\n    const baseUrl = 'https://riskid.cloud.sorbay.com';\n    import(baseUrl + '/resources/sorbay-risk.min.js')\n      .catch(e =&gt; { throw new Error('client-error: import ' + baseUrl + '/resources/sorbay-risk.min.js failed: ' + e); })\n      .then(js =&gt; js.sorbayGetToken(baseUrl, sorbaySetTokenInForm))\n      .catch(e =&gt; e.message.startsWith('client-error: ') ? e.message : 'client-error: sorbayGetToken() failed: ' + e);\n  }\n  sorbayGetSetToken();\n&lt;/script&gt;\n</code></pre> <p>3. GET js for client</p> <p>The above JavaScript is run immediately (while the user is free to enter username and password in parallel). It fetches further JavaScript from the sorbay_risk service in order to collect/measure client attributes.</p> <p>4. js for client</p> <p>The received JavaScript also runs immediately.</p> <p>5. js opens WebSocket at /token</p> <p>The JavaScript opens a WebSocket to <code>wss://riskid.cloud.sorbay.com/token</code>.</p> <p>Note: The API key is not used here. Usage of the API key is restricted to the REST calls of your login service described further below. The API key should never be given/passed to the client.</p> <p>6. token (opaque)</p> <p>Within the websocket channel additional client attributes are determined. As last action before closing the websocket connection, the sorbay_risk service returns the opaque token. The token is required to calculate the final risk score in the next steps. The token is only valid for a certain period of time and can be used only once to prevent e.g. replay attacks.</p> <p>In the JavaScript above, the token is written to the hidden token field.</p> <p>7. Login POST (login userid + password + token)</p> <p>The user enters login userid and password and submits them, posting them to your login service along with the token.</p> <p>Ideally, the submit button would only become active once the token had been obtained.</p> <p>8. REST call /rest/risk (opaque userid + token)</p> <p>The login service validates userid/password and, if correct, makes a REST call to the <code>https://riskid.cloud.sorbay.com/rest/risk</code> location on the sorbay_risk service, passing an opaque userid and the token, plus the API key as <code>X-API-Key</code> HTTP request header.</p> <p>opaque userid</p> <p>The opaque userid should be unique and unchanging per user, but it should not be possible to derive it from login userid and/or API-Key. Formally, the opaque userid is limited to max 128 characters, where upper and lower case letters and numbers are allowed, as well as '+/=-_', i.e. covers hex-, base64- and base64url-encodings. Technical approaches for the opaque userid would include a randomly generated userid  that is stored along other user data somewhere where only the login service has access, or an HMAC based on a secret key that only the login service knows.</p> <p>9. risk score</p> <p>The sorbay_risk service validated the token before calculating the risk score and returns it.</p> <p>Your login service receives the risk score and is free what to do based on its value.</p> <p>For example, if the risk score is lower than 0.4, a second factor authentication (TOTP, etc.) could be skipped. Or if the risk score is above a certain value, an email could be sent to the user to inform of the login attempt \"from a new location/client\".</p> <p>It's not recommended to block a login attempt entirely based on the risk score. Depending on the feature changes it could  prevent legitimate user from accessing your service.</p> <p>10. login ok or require further authentication</p> <p>Your login service grants access to the user if the risk score was deemed low enough, otherwise it initiates further authentication steps.</p> <p>11. Optional further authentication steps</p> <p>Optionally further authentication steps between client and your login service.</p> <p>12. REST call /rest/loginok (opaque userid + token)</p> <p>Whenever your login service decides that login with that user was successful, your login service must make a REST call to <code>https://riskid.cloud.sorbay.com/rest/loginok</code> to signal that to the sorbay_risk service. Only then does the sorbay_risk service store the gathered attributes from the latest login attempt in its datastore for future risk score evaluations.</p> <p>13. ok</p> <p>The sorbay_risk service confirms that it successfully recorded the login attributes.</p>"},{"location":"workspaces/","title":"Workspaces","text":""},{"location":"workspaces/#workspaces","title":"Workspaces","text":"<p>All of your workspaces are available through the top-most navigation entry on the left side:</p> <p></p>"},{"location":"workspaces/#create-new-workspace","title":"Create new workspace","text":"<p>To create a new workspace, select the last popup menu option, \"Create workspace\":</p> <p></p> <p>Enter a name for the new workspace. The new workspace will be created and immediately selected in the workspace selector in the navigation.</p>"},{"location":"workspaces/#edit-workspace","title":"Edit workspace","text":"<p>To change settings of a workspace - such as the name - choose the \"Settings\" option:</p> <p></p> <p>It will open the settings page which allows you to change workspace settings, cede ownership of the workspace to another user, delete the workspace etc.</p>"},{"location":"workspaces/#delete-workspace","title":"Delete workspace","text":"<p>On the \"Settings\" page you can delete the currently selected workspace by clicking the \"Delete workspace\" button in the \"Workspace deletion\" section of the screen. After confirming the deletion by clicking \"Yes\" in the pop-up confirmation dialog, the workspace and all associated services and resources will be removed irrevocably.</p>"}]}